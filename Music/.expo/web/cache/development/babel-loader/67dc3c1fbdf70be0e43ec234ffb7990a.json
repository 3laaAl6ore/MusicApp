{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useRef } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Style from \"../Utilities/AppStyle\";\nimport Colors from \"../Utilities/AppColors\";\nimport { Video, AVPlaybackStatus } from 'expo-av';\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar TrackDetails = function TrackDetails(props) {\n  var video = useRef(null);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n\n  var trackData = props.route.params.track;\n\n  var actionOk = function actionOk() {\n    var myData, list, track, playlist, song, items;\n    return _regeneratorRuntime.async(function actionOk$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('Playlist'));\n\n          case 3:\n            myData = _context.sent;\n\n            if (myData != null) {\n              list = [];\n              track = {\n                kind: trackData.kind,\n                artistId: trackData.artistId,\n                collectionId: trackData.collectionId,\n                trackId: trackData.trackId,\n                artistName: trackData.artistName,\n                collectionName: trackData.collectionName,\n                trackName: trackData.trackName,\n                previewUrl: trackData.previewUrl,\n                artworkUrl100: trackData.artworkUrl100,\n                releaseDate: trackData.releaseDate,\n                trackTimeMillis: trackData.trackTimeMillis\n              };\n              playlist = JSON.parse(myData);\n              list = playlist.songs;\n              song = list.filter(function (x) {\n                return x.trackId == track.trackId;\n              });\n\n              if (song.length == 0) {\n                list.push(track);\n                AsyncStorage.setItem('Playlist', JSON.stringify({\n                  songs: list\n                }));\n                props.navigation.navigate('MyMusicTab');\n              } else {\n                Alert.alert('Song exist');\n              }\n            } else {\n              items = [{\n                kind: trackData.kind,\n                artistId: trackData.artistId,\n                collectionId: trackData.collectionId,\n                trackId: trackData.trackId,\n                artistName: trackData.artistName,\n                collectionName: trackData.collectionName,\n                trackName: trackData.trackName,\n                previewUrl: trackData.previewUrl,\n                artworkUrl100: trackData.artworkUrl100,\n                releaseDate: trackData.releaseDate,\n                trackTimeMillis: trackData.trackTimeMillis\n              }];\n              AsyncStorage.setItem('Playlist', JSON.stringify({\n                songs: items\n              }));\n              Alert.alert('Track was added');\n            }\n\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            Alert.alert(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return _jsxs(View, {\n    style: Style.container,\n    children: [_jsx(Video, {\n      ref: video,\n      style: Style.video,\n      source: {\n        uri: trackData.previewUrl\n      },\n      useNativeControls: true,\n      resizeMode: \"contain\",\n      isLooping: true,\n      onPlaybackStatusUpdate: function onPlaybackStatusUpdate(status) {\n        return setStatus(function () {\n          return status;\n        });\n      }\n    }), _jsxs(View, {\n      style: {\n        padding: 20,\n        backgroundColor: Colors.gray_text\n      },\n      children: [_jsx(Text, {\n        style: {\n          fontFamily: 'Poppins-SemiBold',\n          color: Colors.white,\n          fontSize: 22\n        },\n        children: trackData.artistName\n      }), _jsx(Text, {\n        style: {\n          fontFamily: 'Poppins-Light',\n          color: Colors.white,\n          fontSize: 17\n        },\n        children: trackData.trackName\n      })]\n    }), _jsx(View, {\n      style: {\n        padding: 20,\n        backgroundColor: Colors.white,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: _jsx(TouchableOpacity, {\n        onPress: actionOk,\n        style: {\n          width: 70,\n          height: 70,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: Colors.orange,\n          borderRadius: 50\n        },\n        children: _jsx(MaterialIcons, {\n          name: \"favorite-border\",\n          color: Colors.white,\n          size: 50\n        })\n      })\n    })]\n  });\n};\n\nexport var screenOptions = function screenOptions(navData) {\n  return {\n    headerTitle: navData.route.params.track.trackName\n  };\n};\nexport default TrackDetails;","map":{"version":3,"sources":["C:/Users/a/Desktop/MyApps/redux/redux/Components/TrackDetails.js"],"names":["React","useState","useRef","Style","Colors","Video","AVPlaybackStatus","MaterialIcons","AsyncStorage","TrackDetails","props","video","status","setStatus","trackData","route","params","track","actionOk","getItem","myData","list","kind","artistId","collectionId","trackId","artistName","collectionName","trackName","previewUrl","artworkUrl100","releaseDate","trackTimeMillis","playlist","JSON","parse","songs","song","filter","x","length","push","setItem","stringify","navigation","navigate","Alert","alert","items","container","uri","padding","backgroundColor","gray_text","fontFamily","color","white","fontSize","alignItems","justifyContent","width","height","orange","borderRadius","screenOptions","navData","headerTitle"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Text, View, TouchableOpacity, Alert } from 'react-native';\nimport Style from '../Utilities/AppStyle';\nimport Colors from '../Utilities/AppColors';\nimport { Video, AVPlaybackStatus } from 'expo-av';\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst TrackDetails = props => {\n\n    const video = useRef(null);\n    const [status, setStatus] = useState({});\n    const trackData = props.route.params.track;\n\n    const actionOk = async () => {\n\n        try {\n            const myData = await AsyncStorage.getItem('Playlist');\n            if (myData != null) {\n\n                let list = [];\n\n                const track = {\n                    kind: trackData.kind,\n                    artistId: trackData.artistId,\n                    collectionId: trackData.collectionId,\n                    trackId: trackData.trackId,\n                    artistName: trackData.artistName,\n                    collectionName: trackData.collectionName,\n                    trackName: trackData.trackName,\n                    previewUrl: trackData.previewUrl,\n                    artworkUrl100: trackData.artworkUrl100,\n                    releaseDate: trackData.releaseDate,\n                    trackTimeMillis: trackData.trackTimeMillis\n                };\n                const playlist = JSON.parse(myData);\n                list = playlist.songs;\n\n\n                const song = list.filter(x => x.trackId == track.trackId);\n                if (song.length == 0) {\n                    list.push(track);\n                    AsyncStorage.setItem('Playlist', JSON.stringify({\n                        songs: list\n                    }));\n                    \n                    props.navigation.navigate('MyMusicTab');\n\n                } else {\n                    Alert.alert('Song exist');\n                }\n\n\n            } else {\n                //First set an item\n                const items = [{\n                    kind: trackData.kind,\n                    artistId: trackData.artistId,\n                    collectionId: trackData.collectionId,\n                    trackId: trackData.trackId,\n                    artistName: trackData.artistName,\n                    collectionName: trackData.collectionName,\n                    trackName: trackData.trackName,\n                    previewUrl: trackData.previewUrl,\n                    artworkUrl100: trackData.artworkUrl100,\n                    releaseDate: trackData.releaseDate,\n                    trackTimeMillis: trackData.trackTimeMillis\n                }];\n                AsyncStorage.setItem('Playlist', JSON.stringify({\n                    songs: items\n                }));\n                Alert.alert('Track was added');\n            }\n        } catch (error) {\n            Alert.alert(error);\n        }\n    }\n\n    return (\n        <View style={Style.container}>\n\n            <Video\n                ref={video}\n                style={Style.video}\n                source={{ uri: trackData.previewUrl }}\n                useNativeControls\n                resizeMode=\"contain\"\n                isLooping\n                onPlaybackStatusUpdate={status => setStatus(() => status)}\n            />\n\n            <View style={{ padding: 20, backgroundColor: Colors.gray_text }}>\n                <Text style={{ fontFamily: 'Poppins-SemiBold', color: Colors.white, fontSize: 22 }}>{trackData.artistName}</Text>\n                <Text style={{ fontFamily: 'Poppins-Light', color: Colors.white, fontSize: 17 }}>{trackData.trackName}</Text>\n            </View>\n\n            <View style={{ padding: 20, backgroundColor: Colors.white, alignItems: 'center', justifyContent: 'center' }}>\n                <TouchableOpacity onPress={actionOk} style={{ width: 70, height: 70, alignItems: 'center', justifyContent: 'center', backgroundColor: Colors.orange, borderRadius: 50 }}>\n                    <MaterialIcons name='favorite-border' color={Colors.white} size={50} />\n                </TouchableOpacity>\n            </View>\n\n\n        </View>\n    )\n}\nexport const screenOptions = navData => {\n    return {\n        headerTitle: navData.route.params.track.trackName\n    }\n}\nexport default TrackDetails;"]},"metadata":{},"sourceType":"module"}