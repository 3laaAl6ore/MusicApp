{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useRef } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Style from \"../Utilities/AppStyle\";\nimport Colors from \"../Utilities/AppColors\";\nimport { Video, AVPlaybackStatus } from 'expo-av';\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar TrackDetails = function TrackDetails(props) {\n  var video = useRef(null);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n\n  var trackData = props.route.params.track;\n\n  var Add2AsyncStorge = function Add2AsyncStorge() {\n    var myData, list, track, Playlist, items;\n    return _regeneratorRuntime.async(function Add2AsyncStorge$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('Playlist'));\n\n          case 3:\n            myData = _context.sent;\n\n            if (myData != null) {\n              list = [];\n              track = {\n                kind: trackData.kind,\n                artistId: trackData.artistId,\n                collectionId: trackData.collectionId,\n                trackId: trackData.trackId,\n                artistName: trackData.artistName,\n                collectionName: trackData.collectionName,\n                trackName: trackData.trackName,\n                previewUrl: trackData.previewUrl,\n                artworkUrl100: trackData.artworkUrl100,\n                releaseDate: trackData.releaseDate,\n                trackTimeMillis: trackData.trackTimeMillis\n              };\n              Playlist = JSON.parse(myData);\n              list = Playlist.songs;\n              list.ForEach(function (element) {\n                if (element.trackId == track.trackId) console.log(\"its alredy\");\n              });\n              AsyncStorage.setItem('Playlist', JSON.stringify({\n                songs: track\n              }));\n            } else {\n              items = [{\n                kind: trackData.kind,\n                artistId: trackData.artistId,\n                collectionId: trackData.collectionId,\n                trackId: trackData.trackId,\n                artistName: trackData.artistName,\n                collectionName: trackData.collectionName,\n                trackName: trackData.trackName,\n                previewUrl: trackData.previewUrl,\n                artworkUrl100: trackData.artworkUrl100,\n                releaseDate: trackData.releaseDate,\n                trackTimeMillis: trackData.trackTimeMillis\n              }];\n              AsyncStorage.setItem('Playlist', JSON.stringify({\n                songs: items\n              }));\n            }\n\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return _jsxs(View, {\n    style: Style.container,\n    children: [_jsx(Video, {\n      ref: video,\n      style: Style.video,\n      source: {\n        uri: trackData.previewUrl\n      },\n      useNativeControls: true,\n      resizeMode: \"contain\",\n      isLooping: true,\n      onPlaybackStatusUpdate: function onPlaybackStatusUpdate(status) {\n        return setStatus(function () {\n          return status;\n        });\n      }\n    }), _jsxs(View, {\n      style: {\n        padding: 20,\n        backgroundColor: Colors.gray_text\n      },\n      children: [_jsx(Text, {\n        style: {\n          fontFamily: 'Poppins-SemiBold',\n          color: Colors.white,\n          fontSize: 22\n        },\n        children: trackData.artistName\n      }), _jsx(Text, {\n        style: {\n          fontFamily: 'Poppins-Light',\n          color: Colors.white,\n          fontSize: 17\n        },\n        children: trackData.trackName\n      })]\n    }), _jsx(View, {\n      style: {\n        padding: 20,\n        backgroundColor: Colors.white,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: _jsx(TouchableOpacity, {\n        onPress: Add2AsyncStorge,\n        style: {\n          width: 70,\n          height: 70,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: Colors.orange,\n          borderRadius: 50\n        },\n        children: _jsx(MaterialIcons, {\n          name: \"favorite-border\",\n          color: Colors.white,\n          size: 50\n        })\n      })\n    })]\n  });\n};\n\nexport var screenOptions = function screenOptions(navData) {\n  return {\n    headerTitle: navData.route.params.track.trackName\n  };\n};\nexport default TrackDetails;","map":{"version":3,"sources":["C:/Users/a/Desktop/MyApps/redux/redux/Components/TrackDetails.js"],"names":["React","useState","useRef","Style","Colors","Video","AVPlaybackStatus","MaterialIcons","AsyncStorage","TrackDetails","props","video","status","setStatus","trackData","route","params","track","Add2AsyncStorge","getItem","myData","list","kind","artistId","collectionId","trackId","artistName","collectionName","trackName","previewUrl","artworkUrl100","releaseDate","trackTimeMillis","Playlist","JSON","parse","songs","ForEach","element","console","log","setItem","stringify","items","container","uri","padding","backgroundColor","gray_text","fontFamily","color","white","fontSize","alignItems","justifyContent","width","height","orange","borderRadius","screenOptions","navData","headerTitle"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react';\nimport { Text, View, TouchableOpacity, Alert } from 'react-native';\nimport Style from '../Utilities/AppStyle';\nimport Colors from '../Utilities/AppColors';\nimport { Video, AVPlaybackStatus } from 'expo-av';\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst TrackDetails = props => {\n\n    const video = useRef(null);\n    const [status, setStatus] = useState({});\n    const trackData = props.route.params.track;\n\n    const Add2AsyncStorge = async () => {\n        try {\n            const myData = await AsyncStorage.getItem('Playlist');\n            if(myData != null){\n                    let list = [];\n                const track ={\n                    kind: trackData.kind,\n                    artistId: trackData.artistId,\n                    collectionId: trackData.collectionId,\n                    trackId: trackData.trackId,\n                    artistName: trackData.artistName,\n                    collectionName: trackData.collectionName,\n                    trackName: trackData.trackName,\n                    previewUrl: trackData.previewUrl,\n                    artworkUrl100: trackData.artworkUrl100,\n                    releaseDate: trackData.releaseDate,\n                    trackTimeMillis: trackData.trackTimeMillis\n                };\n                const Playlist = JSON.parse(myData);\n                list = Playlist.songs;\n                list.ForEach(element => {\n                    if(element.trackId == track.trackId)\n                        console.log(\"its alredy\");\n                });\n\n\n                AsyncStorage.setItem('Playlist', JSON.stringify({\n                    songs:track\n                }));\n            } else {\n                //First set an item\n                const items = [{\n                    kind: trackData.kind,\n                    artistId: trackData.artistId,\n                    collectionId: trackData.collectionId,\n                    trackId: trackData.trackId,\n                    artistName: trackData.artistName,\n                    collectionName: trackData.collectionName,\n                    trackName: trackData.trackName,\n                    previewUrl: trackData.previewUrl,\n                    artworkUrl100: trackData.artworkUrl100,\n                    releaseDate: trackData.releaseDate,\n                    trackTimeMillis: trackData.trackTimeMillis\n                }];\n                AsyncStorage.setItem('Playlist', JSON.stringify({\n                    songs: items\n                }));\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n\n    return (\n        <View style={Style.container}>\n\n            <Video\n                ref={video}\n                style={Style.video}\n                source={{uri: trackData.previewUrl}}\n                useNativeControls\n                resizeMode=\"contain\"\n                isLooping\n                onPlaybackStatusUpdate={status => setStatus(() => status)}\n            />\n\n            <View style={{padding:20, backgroundColor:Colors.gray_text}}>\n                <Text style={{fontFamily:'Poppins-SemiBold', color:Colors.white, fontSize:22}}>{trackData.artistName}</Text>\n                <Text style={{fontFamily:'Poppins-Light', color:Colors.white, fontSize:17}}>{trackData.trackName}</Text>\n            </View>\n\n            <View style={{padding:20, backgroundColor:Colors.white, alignItems:'center', justifyContent:'center'}}>\n                <TouchableOpacity onPress={Add2AsyncStorge} style={{width:70,height:70, alignItems:'center', justifyContent:'center', backgroundColor:Colors.orange, borderRadius:50}}>\n                    <MaterialIcons name='favorite-border' color={Colors.white} size={50} />\n                </TouchableOpacity>\n            </View>\n\n\n        </View>\n    )\n}\nexport const screenOptions = navData => {\n    return {\n        headerTitle: navData.route.params.track.trackName\n    }\n}\nexport default TrackDetails;"]},"metadata":{},"sourceType":"module"}